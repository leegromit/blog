<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Ubuntuå›¾å½¢åŒ–ç•Œé¢</title>
    <url>/2023/05/09/My-New-Post/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åœ¨é‡æ–°å®‰è£…æœåŠ¡å™¨æ˜¾å¡åè¿›ä¸å»å›¾å½¢åŒ–ç•Œé¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡Xshellæˆ–MobaXtermè¿œç¨‹è¿æ¥ï¼Œåœ¨å¸è½½é‡è£…é©±åŠ¨åæ— æœï¼Œä¹‹åæ…¢æ…¢æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆã€‚å¦‚æœè¿›ä¸å»Ubuntuçš„å›¾å½¢åŒ–ç•Œé¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è¿œç¨‹è¿æ¥æˆ–è€…è¿›å…¥recoveryæ¨¡å¼ï¼Œå¸Œæœ›ä»¥ä¸‹è§£å†³æ–¹æ³•å¯ä»¥å¸®åˆ°ä½ ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>é¦–å…ˆåˆ é™¤lightdmï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove lightdm</span><br></pre></td></tr></table></figure></div>

<p>ç„¶åé‡æ–°å®‰è£…å›¾å½¢åŒ–ç•Œé¢</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ubuntu-desktop</span><br><span class="line">sudo apt-get install unity</span><br><span class="line">sudo apt-get install lightdm</span><br></pre></td></tr></table></figure></div>
<p> install lightdmä¹‹åä¼šè¿›å…¥ä¸€ä¸ªé€‰æ‹©ç•Œé¢ï¼Œé€‰æ‹©lightdmæˆ–è€…gdm3ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº†gdm3ï¼Œç„¶å</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service gmd3 start</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡ŒæŠ¥é”™<code>Failed to start gmd3.service: Unit gmd3.service not found.</code></p>
<p>è¾“å…¥ä¸‹é¢å‘½ä»¤åé€‰æ‹©gdm3</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg-reconfigure gdm3</span><br></pre></td></tr></table></figure></div>

<p>å†æ›´æ”¹é»˜è®¤å¼€å¯æ–¹å¼</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl set-defalut graphical.target</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œæˆ‘æŠ¥é”™äº†<code>Unknown operation set-defalut.</code>ä½†å¥½åƒæœ€åæ²¡ä»€ä¹ˆå½±å“</p>
<p>æœ€årebooté‡å¯ï¼Œå¤§åŠŸå‘Šæˆã€‚</p>
<p>å¦‚æœä½¿ç”¨å‘½ä»¤apt-get install xxx å®‰è£…è½¯ä»¶æ—¶æŠ¥â€œ<a class="link" href="http://cn.archive.ubuntu.com/ubuntu">http://cn.archive.ubuntu.com/ubuntu <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> xxxâ€œè¿æ¥å¤±è´¥çš„é”™è¯¯ï¼Œå°±éœ€è¦ä¿®æ”¹ç³»ç»Ÿé»˜è®¤æºsource.listæ–‡ä»¶ï¼ˆ&#x2F;etc&#x2F;apt&#x2F;sources.listï¼‰ã€‚</p>
<p>ä¿®æ”¹è¯»å†™æƒé™</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 666 /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div>
<p>è¿›å…¥é•œåƒæ–‡ä»¶ </p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div>
<p>æŠŠ <a class="link" href="http://cn.archive.ubuntu.com/ubuntu">http://cn.archive.ubuntu.com/ubuntu <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> åœ°å€å…¨éƒ¨æ›¿æ¢ä¸ºå¯ç”¨çš„é•œåƒï¼Œè¿™é‡Œä½¿ç”¨çš„é˜¿é‡Œäº‘ï¼š <a class="link" href="http://mirrors.aliyun.com/ubuntu">http://mirrors.aliyun.com/ubuntu <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>åƒä¸‹é¢è¿™æ ·ï¼Œç¤ºä¾‹ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to</span></span><br><span class="line"><span class="comment"># newer versions of the distribution.</span></span><br><span class="line"><span class="comment"># deb http://cn.archive.ubuntu.com/ubuntu/ focal main restricted</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted</span><br><span class="line"><span class="comment"># deb-src http://cn.archive.ubuntu.com/ubuntu/ focal main restricted</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Major bug fix updates produced after the final release of the</span></span><br><span class="line"><span class="comment">## distribution.</span></span><br><span class="line"><span class="comment"># deb http://cn.archive.ubuntu.com/ubuntu/ focal-updates main restricted</span></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted</span><br><span class="line"><span class="comment"># deb-src http://cn.archive.ubuntu.com/ubuntu/ focal-updates main restricted</span></span><br></pre></td></tr></table></figure></div>
<p>ESCåè¾“å…¥ ï¼šwq!  é€€å‡ºvim </p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure></div>

<p>æœ€årebooté‡å¯ã€‚</p>
<p>ï¼ˆå¯èƒ½å¤§å®¶é‡åˆ°çš„é—®é¢˜éƒ½ä¸å¤ªä¸€æ ·ï¼Œå¸Œæœ›èƒ½ç»™äºˆä¸€å®šå¸®åŠ©ï¼‰</p>
]]></content>
      <categories>
        <category>Q&amp;A</category>
      </categories>
      <tags>
        <tag>é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitalkè¯„è®ºæ’ä»¶è¸©å‘æŒ‡å—</title>
    <url>/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä½¿ç”¨GitHub Pageæ­å»ºå¥½é™æ€ç½‘é¡µåšå®¢ä¹‹åï¼Œå¼€å§‹ç€æ‰‹å¤„ç†è¯„è®ºåŠŸèƒ½ã€‚æˆ‘æ‰€ä½¿ç”¨çš„ä¸»é¢˜Redefineä¸­åŒ…å«äº†è¿™å‡ ä¸ªè¯„è®ºæ’ä»¶çš„å®ç°éœ€è¦è‡ªå·±å»å®‰è£…å®Œå–„ï¼Œæœ€åæˆ‘é€‰æ‹©äº†Gitalkã€‚</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/1.png" class title="è¯„è®ºæ’ä»¶">


<h2 id="Gitalkæ¥å…¥"><a href="#Gitalkæ¥å…¥" class="headerlink" title="Gitalkæ¥å…¥"></a>Gitalkæ¥å…¥</h2><h3 id="åœ¨-github-ä¸­åˆ›å»ºè¯„è®ºä»“åº“"><a href="#åœ¨-github-ä¸­åˆ›å»ºè¯„è®ºä»“åº“" class="headerlink" title="åœ¨ github ä¸­åˆ›å»ºè¯„è®ºä»“åº“"></a>åœ¨ github ä¸­åˆ›å»ºè¯„è®ºä»“åº“</h3><p>åœ¨ github ä¸­åˆ›å»ºä¸€ä¸ªå…¬å¼€é¡¹ç›®ï¼Œä¾‹å¦‚ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º hexo-comments çš„å…¬å¼€é¡¹ç›®ï¼Œæœ€åé¡¹ç›®çš„è®¿é—®åœ°å€ä¸ºï¼š<a class="link" href="https://github.com/yourusername/hexo-comments">https://github.com/yourusername/hexo-comments <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="æ³¨å†ŒGithubApplication"><a href="#æ³¨å†ŒGithubApplication" class="headerlink" title="æ³¨å†ŒGithubApplication"></a>æ³¨å†ŒGithubApplication</h3><p> GitHub Applicationï¼Œé“¾æ¥å¦‚ä¸‹ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://github.com/settings/applications/new</span><br></pre></td></tr></table></figure></div>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/2.png" class>
<p>ä½ éœ€è¦å¡«å†™Application nameï¼Œèµ·ä¸€ä¸ªåº”ç”¨åï¼›å¡«å†™Homepage URLï¼Œä¹Ÿå°±æ˜¯ä½ çš„åšå®¢åœ°å€ï¼›å¡«å†™Authorization callback URLï¼Œä¹Ÿå°±æ˜¯å›è°ƒåœ°å€ï¼Œé€šå¸¸ä¸ºä½ çš„åšå®¢åœ°å€ã€‚å¡«å†™å®Œæˆåï¼Œç‚¹å‡»ç»¿è‰²æŒ‰é’®æ³¨å†Œå³å¯ã€‚</p>
<p>é…ç½®å¥½ä¹‹åï¼Œç‚¹å‡»Generate a new client secretç”Ÿäº§æ–°çš„å¯†é’¥ï¼ŒClient IDå’ŒClient secretåœ¨åé¢config.toml ä¸­é…ç½®æ—¶éœ€è¦ç”¨åˆ°ã€‚</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/3.png" class>

<p>å¦‚æœæƒ³è¦ä¿®æ”¹é…ç½®å†…å®¹ï¼Œå¯ä»¥åœ¨ github ä¸­ç‚¹å‡»ã€Œå³ä¸Šè§’å›¾æ ‡ã€-&gt;ã€ŒSettingsã€-&gt;ã€ŒDeveloper settingsã€-&gt;ã€ŒOAuth Appsã€</p>
<h3 id="å®‰è£…-gitalk"><a href="#å®‰è£…-gitalk" class="headerlink" title="å®‰è£… gitalk"></a>å®‰è£… gitalk</h3><p>åœ¨ä½ çš„çš„hexoé¡¹ç›®ä¸­å®‰è£… gitalkï¼Œæ‰§è¡Œå‘½ä»¤ </p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i --save gitalk</span><br></pre></td></tr></table></figure></div>
<h3 id="hexo-ä¸»é¢˜è®¾ç½®"><a href="#hexo-ä¸»é¢˜è®¾ç½®" class="headerlink" title="hexo ä¸»é¢˜è®¾ç½®"></a>hexo ä¸»é¢˜è®¾ç½®</h3><ol>
<li>åœ¨ä½ çš„ä¸»é¢˜ä¸‹çš„ _config.yml æ–‡ä»¶ä¸­æ·»åŠ  gitalk ç›¸å…³é…ç½®ï¼š<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/4.png" class></li>
<li>å°†Gitalkå¼•å…¥åˆ°æƒ³æ·»åŠ è¯„è®ºçš„ html æˆ–è€… jsp é¡µé¢ä¸­ã€‚è¿™é‡Œæˆ‘çš„ä¸»é¢˜å†…ç½®äº†ï¼Œæ‰€ä»¥æœ‰éœ€è¦çš„è¯·è‡ªå·±ç™¾åº¦å•¦ 0.o</li>
</ol>
<h3 id="ç¼–è¯‘ä¸Šä¼ "><a href="#ç¼–è¯‘ä¸Šä¼ " class="headerlink" title="ç¼–è¯‘ä¸Šä¼ "></a>ç¼–è¯‘ä¸Šä¼ </h3><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clen &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></div>

<h2 id="è¸©å‘"><a href="#è¸©å‘" class="headerlink" title="è¸©å‘"></a>è¸©å‘</h2><p>æˆ‘åœ¨åšå®Œä»¥ä¸Šæ“ä½œä¹‹åï¼Œè¯„è®ºåŠŸèƒ½è¿˜æ˜¯æ— æ³•ä½¿ç”¨ï¼Œæç¤ºâ€œæœªæ‰¾åˆ°ç›¸å…³çš„issueè¯„è®ºï¼Œè¯·è”ç³»xxxåˆå§‹åŒ–åˆ›å»ºâ€</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/5.png" class>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>å‡ºç°è¿™ç§æƒ…å†µå°±è¯´æ˜æ²¡æœ‰ç»™æ–‡ç« è¯„è®ºåˆå§‹åŒ–ï¼Œç‚¹å‡»è“è‰²çš„Issuesï¼Œè¿›ä»“åº“æ‰‹åŠ¨å»ºä¸€ä¸ªissueã€‚</p>
<h3 id="æœ€æœ€æœ€å‘çš„åœ°æ–¹æ¥äº†"><a href="#æœ€æœ€æœ€å‘çš„åœ°æ–¹æ¥äº†" class="headerlink" title="æœ€æœ€æœ€å‘çš„åœ°æ–¹æ¥äº†"></a>æœ€æœ€æœ€å‘çš„åœ°æ–¹æ¥äº†</h3><p> æ–°å»ºissue çš„ label å¿…é¡»å’Œä½ åœ¨é¡µé¢é…ç½®Gitalkä½¿ç”¨çš„ idï¼Œä¸¾ä¸ªä¾‹å­ï¼š<br> <img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/6.png" class title="æ–°å»ºissueçš„label"><br> <img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/7.png" class title="Gitalkä½¿ç”¨çš„id"></p>
<p><strong>è¿™é‡Œä¸€å®šè¦ä¿æŒä¸€è‡´</strong></p>
<p>å…·ä½“åœ°å¯ä»¥æ‰“å¼€F12çœ‹æºä»£ç æ¥è·å¾—è¿™ä¸ªidï¼Œæ¯”å¦‚ï¼š</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/8.png" class>

<p>ç„¶åå†æ–°å»ºissueæ—¶ä¿æŒä¸€è‡´å³å¯</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/9.png" class title="æ–°å»ºissueä¿æŒä¸€è‡´">

<p><strong>è¿™é‡Œçš„Gitalkæ˜¯é»˜è®¤çš„ï¼Œä¹Ÿè¦ä¿ç•™</strong></p>
<p>æ–°å»ºå®Œissueä¹‹ååˆ·æ–°ï¼Œè¯„è®ºåŠŸèƒ½å°±å¯ä»¥ä½¿ç”¨å•¦ï¼Œç‚¹å‡»ä¸€ç¯‡æ–‡ç« è¿›å…¥ï¼Œåº•éƒ¨å°±ä¼šå‡ºç°è¯„è®ºæ¨¡å—ï¼š</p>
<img lazyload src="/images/loading.svg" data-src="/2023/05/11/Gitalk%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/10.png" class>]]></content>
      <categories>
        <category>Q&amp;A</category>
      </categories>
      <tags>
        <tag>é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/05/08/hello-world/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a class="link" href="https://hexo.io/">Hexo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>! This is your very first post. Check <a class="link" href="https://hexo.io/docs/">documentation <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link" href="https://hexo.io/docs/troubleshooting.html">troubleshooting <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> or you can ask me on <a class="link" href="https://github.com/hexojs/hexo/issues">GitHub <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/writing.html">Writing <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/server.html">Server <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/generating.html">Generating <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/one-command-deployment.html">Deployment <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>åŸºäºChatGLMçš„éƒ¨ç½²å®ç°</title>
    <url>/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ChatGLM-6B æ˜¯ä¸€ä¸ªç”±æ¸…åå¤§å­¦KEGå®éªŒå®¤å’Œæ™ºè°±AIåŸºäºGLMæ¨¡å‹å¼€å‘çš„äººå·¥æ™ºèƒ½åŠ©æ‰‹ã€‚ï¼ˆå‚è€ƒé“¾æ¥ï¼š<a class="link" href="https://github.com/THUDM/ChatGLM-6B">https://github.com/THUDM/ChatGLM-6B <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ï¼‰</p>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/1.png" class>

<p>ChatGLM-6B å…·æœ‰å¼ºå¤§çš„è¯­è¨€å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥ç†è§£ç”¨æˆ·çš„é—®é¢˜å’Œè¦æ±‚ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„ç­”æ¡ˆå’Œå»ºè®®ã€‚<br>åŒæ—¶å…¶ä½œä¸ºChatGPTè½»é‡åŒ–çš„å°å‚æ•°ç‰ˆæœ¬ï¼Œè™½ç„¶æ•ˆæœä¸Šè¿˜æœ‰äº›å·®è·ï¼Œä½†å…¶å¯ä»¥å•å¡éƒ¨ç½²åœ¨ä¸ªäººç”µè„‘ä¸Šã€‚<br>å®˜æ–¹åˆ—å‡ºçš„ç¡¬ä»¶éœ€æ±‚ï¼š</p>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/2.png" class>

<p>ä¸‹é¢å°±æ˜¯æˆ‘è®°å½•çš„éƒ¨ç½²ChatGLM-6Bçš„è¿‡ç¨‹ã€‚</p>
<h3 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h3><ol>
<li>é€šè¿‡git cloneä¸‹è½½é¡¹ç›®ä»“åº“<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/THUDM/ChatGLM-6B</span><br><span class="line"></span><br><span class="line">cd ChatGLM-6B</span><br></pre></td></tr></table></figure></div></li>
<li>æ–°å»ºcondaç¯å¢ƒ<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda create -n chatglm python==3.8</span><br></pre></td></tr></table></figure></div>
å®‰è£…å®Œæ¿€æ´»ç¯å¢ƒ<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda activate chatglm</span><br></pre></td></tr></table></figure></div></li>
<li>å®‰è£…torchå’Œcuda<br>è¿™é‡Œå‚è€ƒpytorchå®˜ç½‘ï¼š<a class="link" href="https://pytorch.org/">https://pytorch.org <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> æ³¨æ„torchçš„ç‰ˆæœ¬è¦é«˜äº1.10ã€‚<br>æˆ‘é€‰æ‹©ä½¿ç”¨çš„condaå‘½ä»¤ï¼Œå¯¹åº”ç‰ˆæœ¬å¦‚ä¸‹<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda install pytorch==1.10.1 torchvision==0.11.2 torchaudio==0.10.1 cudatoolkit=11.3 -c pytorch -c conda-forge</span><br></pre></td></tr></table></figure></div></li>
<li>å®‰è£…æ‰€éœ€ä¾èµ–<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></div></li>
</ol>
<p>è‡³æ­¤ï¼ŒåŸºæœ¬ç¯å¢ƒé…ç½®å®Œæˆã€‚</p>
<h3 id="å‡†å¤‡æ¨¡å‹æ–‡ä»¶"><a href="#å‡†å¤‡æ¨¡å‹æ–‡ä»¶" class="headerlink" title="å‡†å¤‡æ¨¡å‹æ–‡ä»¶"></a>å‡†å¤‡æ¨¡å‹æ–‡ä»¶</h3><p>ä¸‹è½½ChatGLM-6Bæ¨¡å‹æ–‡ä»¶ï¼Œä¸‹è½½é“¾æ¥ï¼š<a class="link" href="https://huggingface.co/THUDM/chatglm-6b">https://huggingface.co/THUDM/chatglm-6b <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/3.png" class>

<p>ä¸‹è½½å¥½çš„æ–‡ä»¶æ”¾åœ¨&#x2F;THUDM&#x2F;chatglm-6bè·¯å¾„ä¸‹ã€‚å½“ç„¶å¯ä»¥ä¿®æ”¹æˆè‡ªå·±çš„è·¯å¾„ï¼Œä¹‹ååœ¨æ‰§è¡Œä»£ç çš„æ—¶å€™å°±éœ€è¦å°†æ¨¡å‹æ–‡ä»¶çš„è·¯å¾„ä¿®æ”¹æˆè‡ªå·±çš„ã€‚</p>
<h3 id="ä»£ç è¿è¡Œdemo"><a href="#ä»£ç è¿è¡Œdemo" class="headerlink" title="ä»£ç è¿è¡Œdemo"></a>ä»£ç è¿è¡Œdemo</h3><p>è¿™ä¸ªæ²¡æœ‰å»å°è¯•ï¼Œcopyè‡ªgithub</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from transformers import AutoTokenizer, AutoModel</span><br><span class="line">&gt;&gt;&gt; tokenizer = AutoTokenizer.from_pretrained(&quot;THUDM/chatglm-6b&quot;, trust_remote_code=True)</span><br><span class="line">&gt;&gt;&gt; model = AutoModel.from_pretrained(&quot;THUDM/chatglm-6b&quot;, trust_remote_code=True).half().cuda()</span><br><span class="line">&gt;&gt;&gt; model = model.eval()</span><br><span class="line">&gt;&gt;&gt; response, history = model.chat(tokenizer, &quot;ä½ å¥½&quot;, history=[])</span><br><span class="line">&gt;&gt;&gt; print(response)</span><br><span class="line">ä½ å¥½ğŸ‘‹!æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ ChatGLM-6B,å¾ˆé«˜å…´è§åˆ°ä½ ,æ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚</span><br><span class="line">&gt;&gt;&gt; response, history = model.chat(tokenizer, &quot;æ™šä¸Šç¡ä¸ç€åº”è¯¥æ€ä¹ˆåŠ&quot;, history=history)</span><br><span class="line">&gt;&gt;&gt; print(response)</span><br><span class="line">æ™šä¸Šç¡ä¸ç€å¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°ç„¦è™‘æˆ–ä¸èˆ’æœ,ä½†ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥å¸®åŠ©ä½ å…¥ç¡çš„æ–¹æ³•:</span><br><span class="line"></span><br><span class="line">1. åˆ¶å®šè§„å¾‹çš„ç¡çœ æ—¶é—´è¡¨:ä¿æŒè§„å¾‹çš„ç¡çœ æ—¶é—´è¡¨å¯ä»¥å¸®åŠ©ä½ å»ºç«‹å¥åº·çš„ç¡çœ ä¹ æƒ¯,ä½¿ä½ æ›´å®¹æ˜“å…¥ç¡ã€‚å°½é‡åœ¨æ¯å¤©çš„ç›¸åŒæ—¶é—´ä¸ŠåºŠ,å¹¶åœ¨åŒä¸€æ—¶é—´èµ·åºŠã€‚</span><br><span class="line">2. åˆ›é€ ä¸€ä¸ªèˆ’é€‚çš„ç¡çœ ç¯å¢ƒ:ç¡®ä¿ç¡çœ ç¯å¢ƒèˆ’é€‚,å®‰é™,é»‘æš—ä¸”æ¸©åº¦é€‚å®œã€‚å¯ä»¥ä½¿ç”¨èˆ’é€‚çš„åºŠä¸Šç”¨å“,å¹¶ä¿æŒæˆ¿é—´é€šé£ã€‚</span><br><span class="line">3. æ”¾æ¾èº«å¿ƒ:åœ¨ç¡å‰åšäº›æ”¾æ¾çš„æ´»åŠ¨,ä¾‹å¦‚æ³¡ä¸ªçƒ­æ°´æ¾¡,å¬äº›è½»æŸ”çš„éŸ³ä¹,é˜…è¯»ä¸€äº›æœ‰è¶£çš„ä¹¦ç±ç­‰,æœ‰åŠ©äºç¼“è§£ç´§å¼ å’Œç„¦è™‘,ä½¿ä½ æ›´å®¹æ˜“å…¥ç¡ã€‚</span><br><span class="line">4. é¿å…é¥®ç”¨å«æœ‰å’–å•¡å› çš„é¥®æ–™:å’–å•¡å› æ˜¯ä¸€ç§åˆºæ¿€æ€§ç‰©è´¨,ä¼šå½±å“ä½ çš„ç¡çœ è´¨é‡ã€‚å°½é‡é¿å…åœ¨ç¡å‰é¥®ç”¨å«æœ‰å’–å•¡å› çš„é¥®æ–™,ä¾‹å¦‚å’–å•¡,èŒ¶å’Œå¯ä¹ã€‚</span><br><span class="line">5. é¿å…åœ¨åºŠä¸Šåšä¸ç¡çœ æ— å…³çš„äº‹æƒ…:åœ¨åºŠä¸Šåšäº›ä¸ç¡çœ æ— å…³çš„äº‹æƒ…,ä¾‹å¦‚çœ‹ç”µå½±,ç©æ¸¸æˆæˆ–å·¥ä½œç­‰,å¯èƒ½ä¼šå¹²æ‰°ä½ çš„ç¡çœ ã€‚</span><br><span class="line">6. å°è¯•å‘¼å¸æŠ€å·§:æ·±å‘¼å¸æ˜¯ä¸€ç§æ”¾æ¾æŠ€å·§,å¯ä»¥å¸®åŠ©ä½ ç¼“è§£ç´§å¼ å’Œç„¦è™‘,ä½¿ä½ æ›´å®¹æ˜“å…¥ç¡ã€‚è¯•ç€æ…¢æ…¢å¸æ°”,ä¿æŒå‡ ç§’é’Ÿ,ç„¶åç¼“æ…¢å‘¼æ°”ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœè¿™äº›æ–¹æ³•æ— æ³•å¸®åŠ©ä½ å…¥ç¡,ä½ å¯ä»¥è€ƒè™‘å’¨è¯¢åŒ»ç”Ÿæˆ–ç¡çœ ä¸“å®¶,å¯»æ±‚è¿›ä¸€æ­¥çš„å»ºè®®ã€‚</span><br></pre></td></tr></table></figure></div>

<h3 id="å‘½ä»¤è¡Œè¿è¡Œdemo"><a href="#å‘½ä»¤è¡Œè¿è¡Œdemo" class="headerlink" title="å‘½ä»¤è¡Œè¿è¡Œdemo"></a>å‘½ä»¤è¡Œè¿è¡Œdemo</h3><p>è¿è¡Œä»“åº“ä¸­ cli_demo.pyæ–‡ä»¶</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">python cli_demo.py</span><br></pre></td></tr></table></figure></div>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/4.png" class>

<p>å¯ä»¥ä»¥å‘½ä»¤è¡Œçš„å½¢å¼è¿›è¡Œäº¤äº’ã€‚</p>
<h3 id="åŸºäº-Gradio-çš„ç½‘é¡µè¿è¡Œdemo"><a href="#åŸºäº-Gradio-çš„ç½‘é¡µè¿è¡Œdemo" class="headerlink" title="åŸºäº Gradio çš„ç½‘é¡µè¿è¡Œdemo"></a>åŸºäº Gradio çš„ç½‘é¡µè¿è¡Œdemo</h3><p>è¿è¡Œä»“åº“ä¸­web_demo.pyæ–‡ä»¶å³å¯</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">python web_demo.py</span><br></pre></td></tr></table></figure></div>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/5.png" class>

<h3 id="åŸºäº-Streamlit-çš„ç½‘é¡µè¿è¡ŒDemo"><a href="#åŸºäº-Streamlit-çš„ç½‘é¡µè¿è¡ŒDemo" class="headerlink" title="åŸºäº Streamlit çš„ç½‘é¡µè¿è¡ŒDemo"></a>åŸºäº Streamlit çš„ç½‘é¡µè¿è¡ŒDemo</h3><p>å…ˆå®‰è£…streamlitä¾èµ–</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install streamlit</span><br><span class="line">pip install streamlit-chat</span><br></pre></td></tr></table></figure></div>
<p>streamlit run web_demo2.py â€“server.port **** (<strong>å¯ç”¨ç«¯å£å·</strong>)</p>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/6.png" class>

<p>æ¨¡å‹é»˜è®¤æƒ…å†µä»¥ FP16 ç²¾åº¦åŠ è½½ï¼Œå¤§æ¦‚éœ€è¦ 14GB æ˜¾å­˜ã€‚</p>
<img lazyload src="/images/loading.svg" data-src="/2023/06/16/%E5%9F%BA%E4%BA%8EChatGLM%E7%9A%84%E9%83%A8%E7%BD%B2%E5%AE%9E%E7%8E%B0/7.png" class>

<p>å¦‚æœä½ çš„æ˜¾å­˜èµ„æºæœ‰é™ï¼Œå¯ä»¥è€ƒè™‘INT4&#x2F;INT8è½»é‡åŒ–ï¼Œå…·ä½“åœ°ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; model = AutoModel.from_pretrained(&quot;THUDM/chatglm-6b&quot;, trust_remote_code=True).half().quantize(4).cuda()</span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™é‡ŒåŠ ä¸Š.quantize(4)æˆ–è€….quantize(8)å³å¯ã€‚</p>
<p>æ€»ä½“è¿‡ç¨‹å¤§è‡´å°±æ˜¯è¿™æ ·ã€‚æ€»ä½“æ¥è¯´ï¼ŒChatGLMä¸è®ºæ˜¯ç”Ÿæˆé€Ÿåº¦è¿˜æ˜¯ç”Ÿæˆæ–‡æœ¬æ•ˆæœæ¥è¯´ï¼Œéƒ½è¿˜æ˜¯æŒºä¸é”™çš„ã€‚æ„Ÿå…´è¶£çš„ä¹Ÿå¯è‡ªå·±è¿›è¡Œå°è¯•ã€‚</p>
<p>åç»­è¿˜ä¼šæœ‰ä½¿ç”¨è‡ªå·±çš„æ•°æ®æ¥è¿›è¡Œ<strong>å¾®è°ƒ</strong>çš„è¿‡ç¨‹ï¼Œåç»­å†å›æ¥è¡¥å……~</p>
]]></content>
      <categories>
        <category>AI</category>
      </categories>
      <tags>
        <tag>ChatGPT</tag>
      </tags>
  </entry>
</search>
